{
    "$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#",
    "languageVersion": "2.0",
    "contentVersion": "1.0.0.0",
    "metadata": {
      "_generator": {
        "name": "bicep",
        "version": "0.30.23.60470",
        "templateHash": "7109049210516898074"
      }
      "name": "Storage Accounts",
      "description": "This module deploys a Storage Account.",
      "owner": "Azure/module-maintainers"
    },
    "parameters": [
      "name": {
        "type": "string",
        "maxLength": 24,
        "metadata": {
          "description": "Required. Name of the storage account. Must be lower case."
        }
      },
      "location": {
        "type": "string",
        "defaultValue": "[resourceGroup().location]",
        "metadata": {
          "description": "Optional. Location for all resources."
        }
      },
      "kind": {
        "type": "string",
        "defaultValue": "StorageV2",
        "allowedValues": [
          "Storage",
          "StorageV2",
          "BlobStorage",
          "FileStorage",
          "BlockBlobStorage"
        ],
        "metadata": {
          "description": "Optional. Type of storage account to create."
        }
      },
      "skuName": {
        "type": "string",
        "defaultValue": "Standard_GRS",
        "allowedValues": [
          "Standard_LRS",
          "Standard_GRS",
          "Standard_RAGRS",
          "Standard_ZRS",
          "Standard_GZRS",
          "Standard_RAGZRS",
          "Premium_LRS",
          "Premium_ZRS"
        ],
        "metadata": {
          "description": "Optional. Storage account sku name."
        }
      },
      "supportsHttpsTrafficOnly": {
        "type": "bool",
        "defaultValue": true,
        "metadata": {
          "description": "Optional. Allow HTTPS traffic only to storage service if sets to true."
        }
      }
    ],
    "resources": [
        {
          "type": "Microsoft.Storage/storageAccounts",
          "apiVersion": "2023-05-01",
          "name": "[parameters('name')]",
          "location": "[parameters('location')]",
          "kind": "[parameters('kind')]",
          "sku": {
            "name": "[parameters('skuName')]"
          },
          "properties": {
            "supportsHttpsTrafficOnly": "[parameters('supportsHttpsTrafficOnly')]"
          }
        }
    ],
    "outputs": {}
}
